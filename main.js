const container=document.querySelector('.container');const search=document.querySelector('.search-box button');const weatherBox=document.querySelector('.weather-box');const weatherDetails=document.querySelector('.weather-details');const error404=document.querySelector('.not-found');const tme=document.querySelector('.time');document.weather.addEventListener('submit',function(e){e.preventDefault();const APIKey='11fc92c578ccd9fe7d349db5d5b71acf';const city=this.query.value;console.log(city);fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${APIKey}`).then(i=>i.json()).then(i=>{const video=document.querySelector('.video video');const temperature=document.querySelector('.weather-box .temperature');const description=document.querySelector('.weather-box .description');const humidity=document.querySelector('.weather-details .humidity span');const wind=document.querySelector('.weather-details .wind span');const feels=document.querySelector('.weather-details .feels span');const visibility=document.querySelector('.weather-details .visibility span');if(i.cod=='404'){container.style.height='350px';weatherBox.classList.remove('active');weatherDetails.classList.remove('active');error404.classList.add('active');video.classList.remove('active');tme.classList.add('active')}else{container.style.height='450px';weatherBox.classList.add('active');weatherDetails.classList.add('active');error404.classList.remove('active');video.classList.add('active');tme.classList.add('active');switch(i.weather[0].description){case 'clear sky':video.src='video/clearsky.mp4';break;case 'rain':video.src='video/raining.mp4';break;case 'mist':video.src='video/fog.mp4';break;case 'haze':video.src='video/haze.mp4';break;case 'scattered clouds':video.src='video/scatteredcloud.mp4';break;case 'overcast clouds':video.src='video/overcast.mp4';break;case 'light rain':video.src='video/lightraining.mp4';break;case 'few clouds':video.src='video/scatteredcloud.mp4';break;case 'light rain':video.src='video/lightraining.mp4';break;case 'light intensity drizzle':video.src='video/lightraining.mp4';break;case 'snow':video.src='video/snowing.mp4';break;case 'moderate rain':video.src='video/raining.mp4';break;case 'windy':video.src='video/wind.mp4';break;case 'broken clouds':video.src='video/overcast.mp4';break;default:video.src='video/darkclouds.mp4';break}
temperature.innerHTML=`${parseInt(i.main.temp)}<span>°C</span>`;description.innerHTML=`${i.weather[0].description}`;humidity.innerHTML=`${i.main.humidity}%`;wind.innerHTML=`${parseInt(i.wind.speed)}Km/h`;feels.innerHTML=`${parseInt(i.main.feels_like)}<span>°C</span>`;visibility.innerHTML=`${parseInt(i.visibility)}`}})});setInterval(function(){var currentTime=new Date(),hours=currentTime.getHours(),minutes=currentTime.getMinutes(),ampm=hours>12?'PM':'AM';hours=hours%12;hours=hours?hours:12;minutes+=minutes<10?'0':'';tme.innerHTML=hours+":"+minutes+" "+ampm},1000)